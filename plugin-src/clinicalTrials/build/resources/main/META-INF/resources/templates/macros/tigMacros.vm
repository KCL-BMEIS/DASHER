#macro(getUnableCategories ) 
    #set($unableCategories = [  "NTUR - Not tested for unknown reason","LT - Lack of time","NTTI - Too impaired or scoring at floor on the previous visit","CI - Too cognitively impaired","TT - Too tired","TD - Too distressed", "NTPL - Physical limitation (e.g. can&#39;t write)", "FA - Forgotten aid (glasses, hearing aid)", "PD - Participant declines", "PN - Passed NART", "NA - Not part of test battery for that session", "AUR - Abandoned unknown reason" ])        
#end  


#macro(showScalarProperty $property $item $items )
<!-- BEGIN Generated by the showScalarProperty macro -->
#* @vtlvariable name="items" type="java.util.List" *#
    #set($value = $!item.getProperty($property))
    #if($value && !$value.equals(""))
          $items.get($value)
    #else
        (No value set)
    #end
    #set($value = "")
<!-- END Generated by the showScalarProperty macro -->
#end


#macro(showNoYesUnableOther $property $item )
     #set ($value = "")  
    #set($value = $!item.getProperty($property))
    #if("" == $value) 
      (No value selected)
    #elseif($value)
      #if("$value" == "0") &nbsp;No #end
      #if("$value" == "1") &nbsp;Yes #end
      #if("$value" == "2") &nbsp;Unable for Health Reasons #end
      #if("$value" == "3") &nbsp;Unable, other #end
    #else 
       (Not specified)
    #end

#end

#macro(showYesNo $property $item )
    #set ($value = "")
    #set($value = $!item.getProperty($property))
    #if("" == $value) 
      (No value selected)
    #elseif($value)
      #if("$value" == "0") &nbsp;No #end
      #if("$value" == "1") &nbsp;Yes #end
    #else 
       (Not specified)
    #end

#end

#macro(showReasonUnable $property $item )  
    #getUnableCategories()
    #set ($value = "")     
    #set($value = $!item.getProperty($property))  
    #if("" == $value)   
        (No value selected)  
    #elseif($value)  
        #showScalarProperty($property $item $unableCategories )  
    #else      
        (No reason given)  
    #end  
#end  

#macro(showTigBoolean $property $item)
    <!-- BEGIN Generated by the showGenfiBoolean macro -->
  	#set ($value = "")
    
    #set($value = $!item.getProperty($property))
    #if("" == $value) 
	(No value selected)
   
    #elseif ("$value" == "0")
        Yes
    #else
        No
    #end
    <!-- END Generated by the showGenfiBoolean macro -->
#end

#macro (tigBooleanRadioYesNo $name $item $defaultValue $vr)
    #if ($vr)
      #if($vr.getField($name))
        <span style="color:red;">&#8658</span>
      #end
    #end
      #if ($item.getBooleanProperty($name,$defaultValue))
          <input type="radio" name="$name" value="0"/>&nbsp;No
      <input type="radio" name="$name" value="1" CHECKED/>&nbsp;Yes

      #else
          <input type="radio" name="$name" value="0" CHECKED/>&nbsp;No
      <input type="radio" name="$name" value="1"/>&nbsp;Yes

      #end
    #end
   
#macro (tigRadioYesNoUnableOtherTogglePanel $name $item $panel $vr)
    <!-- BEGIN Generated by the cmicRadioYesNoUnableOtherTogglePanel macro -->
    #set ($value = "")
    #set($value = $!item.getProperty($name))
    <!-- value: $value -->
    <input type="radio" name="$name" value="0" #if("$value" == "0") checked #end onclick="togglePanel('$panel', false);togglePanel('${panel}1', false);"/>&nbsp;No
    <input type="radio" name="$name" value="1" #if("$value" == "1") checked #end onclick="togglePanel('$panel', false);togglePanel('${panel}1', true);"/>&nbsp;Yes
    <input type="radio" name="$name" value="2" #if("$value" == "2") checked #end onclick="togglePanel('$panel', false);togglePanel('${panel}1', false);"/>&nbsp;Unable for Health Reasons
     <input type="radio" name="$name" value="3" #if("$value" == "3") checked #end onclick="togglePanel('$panel', true);togglePanel('${panel}1', false);"/>&nbsp;Unable, other (Specify)
    <!-- END Generated by the cmicRadioYesNoUnableOtherTogglePanel  macro -->
#end


#macro(tigRadioYesNo $name $item $defaultValue $vr)
  #if ($item.getBooleanProperty($name,$defaultValue))
      <input type="radio" name="$name" value="0"/>&nbsp;No
  <input type="radio" name="$name" value="1" CHECKED/>&nbsp;Yes

  #else
      <input type="radio" name="$name" value="0" CHECKED/>&nbsp;No
  <input type="radio" name="$name" value="1"/>&nbsp;Yes

  #end
#end

#macro(tigRadioYesNoToggle $name $item $defaultValue $panel $vr)
  #set ($value = "")
  #set($value = $!item.getProperty($name))
  <input type="radio" name="$name" value="0" #if($value == "0") CHECKED #end onclick="togglePanel('${panel}1', false);"/>&nbsp;No
  <input type="radio" name="$name" value="1" #if($value == "1") CHECKED #end onclick="togglePanel('${panel}1', true);"/>&nbsp;Yes
#end


#macro(renderTigScalarPropertySelect $property $item $items $vr)    
    #set ($value = "")
    #set($value = $!item.getProperty($property))
    <select id="$property" name="$property">
        <option value="" #if("" == $value) selected="true" #end>(SELECT)</option>
        #set($index = 0)
        #foreach($listitem in $items)
            <option value="$index" #if ($index == $value) selected="true" #end>$listitem</option>
            #set($index = $index + 1)
        #end
    </select>
#end

#macro(renderTigIntegerDropdown $property $item $items $vr)    
    #set ($value = "")
    #set($value = $!item.getProperty($property))
    <select id="$property" name="$property">
        <option value="" #if("" == $value) selected="true" #end>(SELECT)</option>
        #set($index = 0)
        #foreach($listitem in $items)            
            <option value="$listitem" #if ($listitem == $value) selected="true" #end>$listitem</option>            
        #end
    </select>
#end

#macro(renderTigStringDropdown $property $item $items $vr)    
    #set ($value = "")
    #set($value = $!item.getProperty($property))
    <select id="$property" name="$property">
        <option value="" #if("" == $value) selected="true" #end>(SELECT)</option>
        #foreach($listitem in $items)
            <option value="$listitem" #if ($index == $value) selected="true" #end>$listitem</option>            
        #end
    </select>
#end
     
            
